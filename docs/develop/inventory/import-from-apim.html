<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-develop/inventory/import-from-apim" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Import APIs from APIM | Empower Your API Strategy with Azure API Center </title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://Azure-Samples.github.io/API-Center-Workshop/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://Azure-Samples.github.io/API-Center-Workshop/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://Azure-Samples.github.io/API-Center-Workshop/docs/develop/inventory/import-from-apim"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Import APIs from APIM | Empower Your API Strategy with Azure API Center "><meta data-rh="true" name="description" content="If you have your APIs in Azure API Management, you can import them into your centralized API Inventory on API Center to improve discoverability and make them accessibile to all developers. You will also learn to set up automatic synchronization by linking your API Management instance to API Center and this will ensure that your inventory is always up-to-date."><meta data-rh="true" property="og:description" content="If you have your APIs in Azure API Management, you can import them into your centralized API Inventory on API Center to improve discoverability and make them accessibile to all developers. You will also learn to set up automatic synchronization by linking your API Management instance to API Center and this will ensure that your inventory is always up-to-date."><link data-rh="true" rel="icon" href="/API-Center-Workshop/img/logo.svg"><link data-rh="true" rel="canonical" href="https://Azure-Samples.github.io/API-Center-Workshop/docs/develop/inventory/import-from-apim"><link data-rh="true" rel="alternate" href="https://Azure-Samples.github.io/API-Center-Workshop/docs/develop/inventory/import-from-apim" hreflang="en"><link data-rh="true" rel="alternate" href="https://Azure-Samples.github.io/API-Center-Workshop/docs/develop/inventory/import-from-apim" hreflang="x-default"><link rel="stylesheet" href="/API-Center-Workshop/assets/css/styles.0e1a9eb2.css">
<script src="/API-Center-Workshop/assets/js/runtime~main.9475c64c.js" defer="defer"></script>
<script src="/API-Center-Workshop/assets/js/main.ae4be67a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/API-Center-Workshop/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/API-Center-Workshop/"><div class="navbar__logo"><img src="/API-Center-Workshop/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/API-Center-Workshop/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">API Center Workshop</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/API-Center-Workshop/docs/intro">Workshop</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Azure-Samples/API-Center-Workshop" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/API-Center-Workshop/docs/intro">About this workshop</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/API-Center-Workshop/docs/define/introduction">Define</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/API-Center-Workshop/docs/develop/setup">Develop</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/API-Center-Workshop/docs/develop/setup">Set Up</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/API-Center-Workshop/docs/develop/inventory/api-inventory">API Inventory</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/API-Center-Workshop/docs/develop/inventory/api-inventory">Create an API Center Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/API-Center-Workshop/docs/develop/inventory/custom-metadata">Define Custom Metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/API-Center-Workshop/docs/develop/inventory/register-apis">Register your APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/API-Center-Workshop/docs/develop/inventory/env-and-deploys">Environments and Deployments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/API-Center-Workshop/docs/develop/inventory/import-from-apim">Import APIs from APIM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/API-Center-Workshop/docs/develop/governance/api-design">API Governance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/API-Center-Workshop/docs/develop/discover/discover-apis">API Discovery &amp; Consumption</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/API-Center-Workshop/docs/discover/get-started">Dive Deeper</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/API-Center-Workshop/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Develop</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Inventory</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Import APIs from APIM</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Import APIs from APIM</h1></header>
<p>If you have your APIs in Azure API Management, you can import them into your centralized API Inventory on API Center to improve discoverability and make them accessibile to all developers. You will also learn to set up <strong>automatic synchronization</strong> by linking your API Management instance to API Center and this will ensure that your inventory is always up-to-date.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-more-sample-apis">Get more sample APIs<a href="#get-more-sample-apis" class="hash-link" aria-label="Direct link to Get more sample APIs" title="Direct link to Get more sample APIs">​</a></h2>
<p>First, let&#x27;s get some additional sample APIs to complete the exercise. We&#x27;ll use APIs from <a href="https://apis.guru/" target="_blank" rel="noopener noreferrer">APIs.guru</a>, but you can skip this step if you already have APIs you can use open in VS Code.</p>
<ol>
<li>
<p>Fork the <a href="https://github.com/APIs-guru/openapi-directory/fork" target="_blank" rel="noopener noreferrer">openapi-directory</a> repository into your github account.</p>
</li>
<li>
<p>Clone and open in VS Code.</p>
<p><img decoding="async" loading="lazy" alt="Fork, clone and opena api-guru repo" src="/API-Center-Workshop/assets/images/api-guru-7e58ebb9e5f6e1eefa249362347e06b1.png" width="1800" height="774" class="img_ev3q"></p>
</li>
<li>
<p>The APIs directory should have more than 2000 APIs.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-apis-to-azure-api-management">Add APIs to Azure API Management<a href="#add-apis-to-azure-api-management" class="hash-link" aria-label="Direct link to Add APIs to Azure API Management" title="Direct link to Add APIs to Azure API Management">​</a></h2>
<p>Create a new file in the root directory called <code>script.sh</code>, and paste in the following bash script to automate the import of APIs from the APIs folder into an Azure API Management instance.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Note</div><div class="admonitionContent_BuS1"><p>Add your <code>Subscription ID</code>, <code>Resource group name</code> and <code>resource name</code> values to their respective variables.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash# </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set your variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subscriptionId=&quot;&lt;SUBSCRIPTION-ID&gt;&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resourceGroup=&quot;&lt;RESOURCE-GROUP-NAME&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">serviceName=&quot;&lt;APIM-RESOURCE-NAME&gt;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Directory of the local clone of the openapi-directory repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_dir=$(pwd)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># This is a comment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Registering all the specs in the openapi-directory repository to API Management&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check if already logged in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if ! az account show &gt; /dev/null 2&gt;&amp;1; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    az login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set the subscription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">az account set --subscription $subscriptionId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Echo the currently set subscription</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subscription=$(az account show --query &quot;{subscriptionId:id, subscriptionName:name}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Currently set subscription: $subscription&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Find all .yaml files in the base directory and its subdirectories</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for file in $(find $base_dir -type f -name &quot;*.yaml&quot;); do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Echo the file name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;Importing file: $file&quot;        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Remove the prefix up to APIs/    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ApiPath=${file#*APIs/}    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Replace all / with empty string    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ApiPath=${ApiPath//\//}    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Replace . with empty string    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ApiPath=${ApiPath//./}    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo  &quot;API path: $ApiPath&quot;  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # This will output: adyencomAccountService4    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Run the az command and echo its output    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    output=$(az apim api import --path $ApiPath --resource-group $resourceGroup --service-name $serviceName --specification-path $file --specification-format OpenApi )    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo $output    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Add a line break    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    echo &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Open your terminal and run the script using <code>bash script.sh</code>. Give it a few minutes to finish importing all the APIs.</p>
<p><img decoding="async" loading="lazy" alt="Run bash script to import APIs to APIM" src="/API-Center-Workshop/assets/images/run-bash-30ff991818fbcbd9a51b648f65742eb3.png" width="2518" height="937" class="img_ev3q"></p>
<p>When you open API Management, you will see all the imported APIs</p>
<p><img decoding="async" loading="lazy" alt="APIs imported into APIM" src="/API-Center-Workshop/assets/images/apim-apis-1cfbb0ed891492f6c04dc4024f719fd7.png" width="1771" height="1186" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="import-from-api-management">Import from API Management<a href="#import-from-api-management" class="hash-link" aria-label="Direct link to Import from API Management" title="Direct link to Import from API Management">​</a></h2>
<p>The process of synchronizing (linking) API Management to API Center completes the following actions:</p>
<ul>
<li>All your APIs in API Management will be added into API Center</li>
<li>An environment will be created of type <em>Azure API Management</em></li>
<li>A deployment will be created and associated for each API definition</li>
</ul>
<p>Steps:</p>
<ol>
<li>Run <code>az apic update -n APIC-NAME -g RG-NAME --identity &#x27;{&quot;type&quot;: &quot;SystemAssigned&quot;}&#x27;</code> to enable managed identity in your API Center</li>
<li>Assign the API Management Service Reader role<!-- -->
<ul>
<li>Get and save the principal ID using <code>apicObjID=$(az apic show -n APIC-NAME -g RG-NAME --query &quot;identity.principalId&quot; --output tsv)</code></li>
<li>Get and save the resource ID of the API Management instance using <code>apimID=$(az apim show -n APIM-NAME -g RG-NAME --query &quot;id&quot; --output tsv)</code></li>
<li>Assign the <strong>API Management Service Reader role</strong> to your managed identity using <code>scope=&quot;${apimID:1}&quot;</code> then <code>az role assignment create --role &quot;API Management Service Reader Role&quot; --assignee-object-id $apicObjID --assignee-principal-type ServicePrincipal --scope $scope</code></li>
</ul>
</li>
<li>Integrate API Management into API Center using <code>az apic integration create apim -g RG-NAME -n APIC-NAME --integration-name INTEGRATION-NAME --azure-apim APIM-NAME</code></li>
</ol>
<p>Navigate to your <code>Environments</code> on the Azure portal, and switch to <code>Integrations (Preview)</code> to view your newly created link, and confirm the State is <code>Linked and syncing</code>.</p>
<p><img decoding="async" loading="lazy" alt="APIM linked to APIC" src="/API-Center-Workshop/assets/images/apim-apic-link-8a815d03d21544038b256745efc13a81.png" width="2474" height="994" class="img_ev3q"></p>
<p>Now, all APIs will be automatically imported into the inventory, and any updates on API Management will sync out of the box, ensuring all your APIs are accessible and up-to-date.</p>
<p><img decoding="async" loading="lazy" alt="APIs from the linked APIM" src="/API-Center-Workshop/assets/images/imported-apis-95c411ca23f02c80a3c65314896dfcfb.png" width="1869" height="1334" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/API-Center-Workshop/docs/develop/inventory/env-and-deploys"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Environments and Deployments</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/API-Center-Workshop/docs/develop/governance/api-design"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">API Design Conformance</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#get-more-sample-apis" class="table-of-contents__link toc-highlight">Get more sample APIs</a></li><li><a href="#add-apis-to-azure-api-management" class="table-of-contents__link toc-highlight">Add APIs to Azure API Management</a></li><li><a href="#import-from-api-management" class="table-of-contents__link toc-highlight">Import from API Management</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://developer.microsoft.com/en-us/build-apis" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/API-Center-Workshop/img/logo.svg" alt="API Center Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="160" height="51"><img src="/API-Center-Workshop/img/logo.svg" alt="API Center Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="160" height="51"></a></div><div class="footer__copyright">Copyright © 2025 Microsoft - Made with ♥️ by API Center Team & JavaScript Advocacy</div></div></div></footer></div>
</body>
</html>